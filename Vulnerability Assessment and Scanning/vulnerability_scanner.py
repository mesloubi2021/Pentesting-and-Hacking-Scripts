import socket

target_ip = "127.0.0.1"  # Replace with your target IP address

# List of ports to scan
ports = [21, 22, 80, 443]


def scan_port(ip, port):
    try:
        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        sock.settimeout(1)  # Set a timeout value for the connection attempt
        result = sock.connect_ex((ip, port))
        if result == 0:
            print(f"Port {port} is open")
        else:
            print(f"Port {port} is closed")
        sock.close()
    except socket.error:
        print(f"Could not connect to IP: {ip}")


def scan_ports(ip, port_list):
    print(f"Scanning ports for IP: {ip}")
    for port in port_list:
        scan_port(ip, port)


scan_ports(target_ip, ports)


"""
In this script, you can specify the target IP address in the target_ip variable, and you can define a list of ports to scan in the ports list.

The scan_port function takes an IP address and a port number, creates a TCP socket, and attempts to connect to the specified port. If the connection attempt is successful (result == 0), it prints that the port is open. Otherwise, it prints that the port is closed.

The scan_ports function takes an IP address and a list of ports. It iterates over the ports and calls the scan_port function for each port.

Finally, the script calls the scan_ports function with the target IP and port list to perform the scanning.

"""
